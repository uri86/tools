#!/bin/bash

# === Resolve real path ===
SCRIPT_DIR="$(cd "$(dirname "$(readlink "$0" || echo "$0")")" && pwd)"
SCRIPT_NAME="$SCRIPT_DIR/treeview.py"
VENV_DIR="$SCRIPT_DIR/.venv"

# === Create venv ===
if [ ! -d "$VENV_DIR" ]; then
  echo "ðŸ”§ Creating virtual environment..."
  python3 -m venv "$VENV_DIR" || { echo "Failed to create venv"; exit 1; }
fi

# === Activate venv ===
source "$VENV_DIR/bin/activate" || { echo "Failed to activate venv"; exit 1; }

# === Run the script ===
python "$SCRIPT_NAME" "$@"
